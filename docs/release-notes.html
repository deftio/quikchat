<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Release Notes - QuikChat Documentation</title>
    <link rel="stylesheet" href="https://unpkg.com/github-markdown-css@5/github-markdown.css">
    <link rel="stylesheet" href="https://unpkg.com/prismjs@1/themes/prism.css">
    <style>
        body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px;
            margin: 0 auto;
            padding: 45px;
        }
        .markdown-body {
            box-sizing: border-box;
            min-width: 200px;
            max-width: 980px;
            margin: 0 auto;
        }
        @media (max-width: 767px) {
            body { padding: 15px; }
        }
        /* Ensure emojis display properly */
        .markdown-body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
        }
        /* Code block styling */
        pre {
            background-color: #f6f8fa;
            border-radius: 6px;
            padding: 16px;
            overflow: auto;
        }
        code {
            background-color: rgba(175, 184, 193, 0.2);
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-size: 85%;
        }
        pre code {
            background-color: transparent;
            padding: 0;
        }
        /* Table styling */
        table {
            border-collapse: collapse;
            width: 100%;
            margin-top: 16px;
            margin-bottom: 16px;
        }
        table th, table td {
            border: 1px solid #d0d7de;
            padding: 6px 13px;
        }
        table tr:nth-child(2n) {
            background-color: #f6f8fa;
        }
    </style>
    <script src="https://unpkg.com/prismjs@1/components/prism-core.min.js"></script>
    <script src="https://unpkg.com/prismjs@1/plugins/autoloader/prism-autoloader.min.js"></script>
</head>
<body>
    <article class="markdown-body">
        <h1>Release Notes</h1>
<h2>1.1.16 (2025-08-10)</h2>
<h3>Major Performance Enhancement: Virtual Scrolling</h3>
<h4>Virtual Scrolling Implementation</h4>
<ul>
<li><strong>Zero-dependency virtual scrolling</strong> built directly into QuikChat core</li>
<li>Automatically renders only visible messages in viewport plus buffer zone</li>
<li>Dynamic height measurement and caching for variable-length messages (critical for LLM responses)</li>
<li>Seamless activation based on configurable message count threshold</li>
</ul>
<h4>Performance Improvements</h4>
<ul>
<li><strong>10,000 messages</strong>: Renders in 38ms (vs 146,043ms without virtual scrolling)</li>
<li><strong>1,000 messages</strong>: Renders in 12ms</li>
<li><strong>DOM efficiency</strong>: Maintains ~36 DOM nodes regardless of total message count</li>
<li><strong>Memory usage</strong>: ~2MB for 10,000 messages (vs ~187MB without)</li>
</ul>
<h4>Configuration</h4>
<ul>
<li>Enabled by default (<code>virtualScrolling: true</code>)</li>
<li>Configurable threshold (default: 500 messages)</li>
<li>Status checking via <code>isVirtualScrollingEnabled()</code> and <code>getVirtualScrollingConfig()</code></li>
</ul>
<h3>New Testing Infrastructure</h3>
<ul>
<li>Added comprehensive performance test page (<code>test/test-long-messages.html</code>)</li>
<li>Real-time performance metrics display</li>
<li>Batch message addition support (100, 1000 messages)</li>
<li>Visual performance indicators with color coding</li>
</ul>
<h3>Bug Fixes</h3>
<ul>
<li>Fixed virtual scrolling height calculation for variable-length messages</li>
<li>Resolved CORS issues in test files</li>
</ul>
<h3>Documentation</h3>
<ul>
<li>Created comprehensive virtual scrolling documentation (<code>docs/virtual_scrolling.md</code>)</li>
<li>Updated all documentation to use factual performance metrics</li>
<li>Removed marketing language in favor of technical specifications</li>
</ul>
<h2>1.1.15 (2025-08-10)</h2>
<h3>New Features</h3>
<h4>Smart Scroll Behavior</h4>
<ul>
<li><strong>Fixed GitHub Issue #1</strong>: Messages no longer force scroll to bottom when users are reading earlier messages</li>
<li>Added <code>&#39;smart&#39;</code> scroll mode - only scrolls if user is near bottom of chat</li>
<li><code>scrollIntoView</code> parameter now accepts:<ul>
<li><code>true</code> - Always scroll to new message</li>
<li><code>false</code> - Never scroll automatically  </li>
<li><code>&#39;smart&#39;</code> - Only scroll if user is near bottom (new!)</li>
</ul>
</li>
</ul>
<h4>Enhanced Callbacks for Message Modifications</h4>
<ul>
<li><code>setCallbackonMessageAppend()</code> - Fired when content is appended to a message (useful for streaming)</li>
<li><code>setCallbackonMessageReplace()</code> - Fired when message content is replaced</li>
<li><code>setCallbackonMessageDelete()</code> - Fired when a message is deleted</li>
</ul>
<h4>History API Improvements</h4>
<ul>
<li><strong><code>historyGetPage()</code></strong> - Paginated history retrieval with ascending/descending order support</li>
<li><strong><code>historySearch()</code></strong> - Search messages by text, user, role, or tags</li>
<li><strong><code>historyGetInfo()</code></strong> - Get metadata about history size, memory usage, and pagination</li>
<li>Memory optimizations for better performance with 1000+ messages</li>
<li>Efficient handling of large chat histories without loading everything at once</li>
</ul>
<h3>Bug Fixes</h3>
<ul>
<li>Fixed auto-scroll disrupting users reading earlier messages</li>
<li>Removed unnecessary scroll triggers from append/replace operations</li>
</ul>
<h3>Developer Experience</h3>
<ul>
<li>Improved test coverage with 57 total tests  </li>
<li><strong>Added comprehensive JSDoc documentation</strong> to all public methods</li>
<li><strong>TypeScript definitions</strong> (<code>dist/quikchat.d.ts</code>) for full TypeScript support</li>
<li><strong>API documentation generation</strong> via <code>npm run docs:api</code></li>
<li>IDE intellisense support through JSDoc comments</li>
<li>Better error messages and debugging information</li>
</ul>
<h3>Documentation Infrastructure</h3>
<ul>
<li><strong>Replaced outdated <code>docbat</code> with modern <code>marked</code> markdown parser</strong></li>
<li><strong>Reorganized documentation structure</strong>:<ul>
<li>All documentation moved to <code>docs/</code> folder</li>
<li>Only README.md and LICENSE.txt remain in root</li>
<li>Claude configuration consolidated in <code>.claude/memory.md</code></li>
</ul>
</li>
<li><strong>New documentation build system</strong>:<ul>
<li>Automatic HTML generation from markdown files</li>
<li>Proper Unicode/emoji support (no more character encoding issues)</li>
<li>GitHub-style markdown CSS for clean, familiar styling</li>
<li>Syntax highlighting with Prism.js</li>
<li>Created <code>docs/index.html</code> as documentation hub</li>
</ul>
</li>
<li><strong>Integrated into build pipeline</strong>: <code>npm run build</code> automatically regenerates all docs</li>
</ul>
<h3>Breaking Changes</h3>
<ul>
<li>None - all changes are backward compatible</li>
</ul>
<h2>1.1.14</h2>
<p>Add tagged visibility<br>updated readme, api-docs, and quickstart</p>
<h2>1.1.12</h2>
<ul>
<li>added temp message generator</li>
</ul>
<h2>1.1.7</h2>
<ul>
<li>added get/restore full message history including timestamps</li>
<li>updated messageAddFull to accept timestamp setting for history restore</li>
<li>added /examples/historyDemo.html</li>
</ul>
<h2>1.1.6</h2>
<ul>
<li>added show/hide input on construction</li>
<li>added more test coverage (approx 87%)</li>
</ul>
<h2>1.1.5</h2>
<ul>
<li>added  examples for nodejs and python backends including streaming</li>
</ul>
<h2>1.1.4</h2>
<ul>
<li>added  travisci build support</li>
</ul>
<h2>1.1.3</h2>
<ul>
<li>added onMessageNew callback</li>
<li>minified css (/dist/quikchat.min.css)</li>
<li>moved all border-radius to themes</li>
<li>updated docs / index.html</li>
<li>updated readme generator from npx to /node-modules (still using docbat)</li>
<li>add ci via github actions</li>
<li>added build passing badge based on github actions</li>
</ul>
<h2>1.1.2</h2>
<ul>
<li>updated styles and docs</li>
<li>add jest test suite</li>
<li>add npm and version badges in readme</li>
<li>added fixes in github pages for demos</li>
</ul>
<h2>1.1.1</h2>
<ul>
<li>move callback from {meta} to 2nd param of constructor</li>
<li>add loremIpsum Generator</li>
<li>addedfix alternate light and dark to use css nth-child, added messagesAreaAlternateColors()</li>
</ul>
<h2>1.0.4</h2>
<ul>
<li><p>make robust the add/remove/update message (harden id scheme for messages)</p>
</li>
<li><p>example ChatGPT</p>
</li>
<li><p>add center div styling (addMessage(content, user, center))</p>
</li>
<li><p>CSS: add functions for light, dark, debug styles to be built-in</p>
</li>
</ul>

    </article>
    <script>
        // Syntax highlighting
        if (typeof Prism !== 'undefined') {
            Prism.highlightAll();
        }
    </script>
</body>
</html>