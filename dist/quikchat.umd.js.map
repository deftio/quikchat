{"version":3,"file":"quikchat.umd.js","sources":["../src/quikchat.js"],"sourcesContent":["\nclass quikchat {\n    constructor(parentElement, meta = { theme: 'quikchat-theme-light', onSend: () => { } }) {\n        if (typeof parentElement === 'string') {\n            parentElement = document.querySelector(parentElement);\n        }\n        this._parentElement = parentElement;\n        this._theme = meta.theme;\n        this._onSend = meta.onSend ? meta.onSend : () => { };\n        this._createWidget();\n        // title area\n        if (meta.titleArea) {\n            this.titleAreaSetContents(meta.titleArea.title, meta.titleArea.align);\n            if (meta.titleArea.show) {\n                this.titleAreaShow();\n            } else {\n                this.titleAreaHide();\n            }\n        }\n        this._attachEventListeners();\n    }\n\n    _createWidget() {\n        const widgetHTML =\n            `\n            <div class=\"quikchat-base ${this.theme}\">\n                <div class=\"quikchat-title-area\">\n                    <span style=\"font-size: 1.5em; font-weight: 600;\">Title Area</span>\n                </div>\n                <div class=\"quikchat-messages-area\"></div>\n                <div class=\"quikchat-input-area\">\n                    <textarea class=\"quikchat-input-textbox\"></textarea>\n                    <button class=\"quikchat-input-send-btn\">Send</button>\n                </div>\n            </div>\n            `;\n\n        this._parentElement.innerHTML = widgetHTML;\n        this._chatWidget = this._parentElement.querySelector('.quikchat-base');\n        this._titleArea = this._chatWidget.querySelector('.quikchat-title-area');\n        this._messagesArea = this._chatWidget.querySelector('.quikchat-messages-area');\n        this._inputArea = this._chatWidget.querySelector('.quikchat-input-area');\n        this._textEntry = this._inputArea.querySelector('.quikchat-input-textbox');\n        this._sendButton = this._inputArea.querySelector('.quikchat-input-send-btn');\n        this.msgid = 0;\n    }\n    $() {\n    }\n    _attachEventListeners() {\n        this._sendButton.addEventListener('click', () => this._onSend(this, this._textEntry.value.trim()));\n        window.addEventListener('resize', () => this._handleContainerResize());\n        this._chatWidget.addEventListener('resize', () => this._handleContainerResize());\n        this._textEntry.addEventListener('keydown', (event) => {\n            // Check if Shift + Enter is pressed\n            if (event.shiftKey && event.keyCode === 13) {\n                // Prevent default behavior (adding new line)\n                event.preventDefault();\n                this._onSend(this, this._textEntry.value.trim())\n            }\n        });\n    }\n\n    titleAreaToggle() {\n        this._titleArea.style.display === 'none' ? this.titleAreaShow() : this.titleAreaHide();\n    }\n\n    titleAreaShow() {\n        this._titleArea.style.display = '';\n        this._adjustMessagesAreaHeight();\n    }\n\n    titleAreaHide() {\n        this._titleArea.style.display = 'none';\n        this._adjustMessagesAreaHeight();\n    }\n\n    titleAreaSetContents(title, align = 'center') {\n        this._titleArea.innerHTML = title;\n        this._titleArea.style.textAlign = align;\n    }\n\n    titleAreaGetContents() {\n        return this._titleArea.innerHTML;\n    }\n\n    inputAreaToggle() {\n        this._inputArea.classList.toggle('hidden');\n        this._inputArea.style.display === 'none' ? this.inputAreaShow() : this.inputAreaHide();\n    }\n\n    inputAreaShow() {\n        this._inputArea.style.display = '';\n        this._adjustMessagesAreaHeight();\n    }\n\n    inputAreaHide() {\n        this._inputArea.style.display = 'none';\n        this._adjustMessagesAreaHeight();\n    }\n\n    _adjustMessagesAreaHeight() {\n        const hiddenElements = [...this._chatWidget.children].filter(child => child.classList.contains('hidden'));\n        const totalHiddenHeight = hiddenElements.reduce((sum, child) => sum + child.offsetHeight, 0);\n        const containerHeight = this._chatWidget.offsetHeight;\n        this._messagesArea.style.height = `calc(100% - ${containerHeight - totalHiddenHeight}px)`;\n    }\n\n    _handleContainerResize() {\n        this._adjustMessagesAreaHeight();\n        this._adjustSendButtonWidth();\n        //console.log('Container resized');\n    }\n\n    _adjustSendButtonWidth() {\n        const sendButtonText = this._sendButton.textContent.trim();\n        const fontSize = parseFloat(getComputedStyle(this._sendButton).fontSize);\n        const minWidth = fontSize * sendButtonText.length + 16;\n        this._sendButton.style.minWidth = `${minWidth}px`;\n    }\n\n    messageAddNew(message, user = \"foo\", align = 'left') {\n        const messageDiv = document.createElement('div');\n        const msgid = this.msgid;\n        const msgidClass = 'quikchat-msgid-' + String(msgid).padStart(10, '0');\n        messageDiv.classList.add('quikchat-message', msgidClass);\n        this.msgid++;\n        messageDiv.classList.add(this._messagesArea.children.length % 2 === 1 ? 'quikchat-message-1' : 'quikchat-message-2');\n\n        const userDiv = document.createElement('div');\n        userDiv.innerHTML = user;\n        userDiv.style = `width: 100%; text-align: ${align}; font-size: 1em; font-weight:700; color: #444;`;\n\n        const contentDiv = document.createElement('div');\n        contentDiv.style = `width: 100%; text-align: ${align};`;\n        contentDiv.innerHTML = message;\n\n        messageDiv.appendChild(userDiv);\n        messageDiv.appendChild(contentDiv);\n        this._messagesArea.appendChild(messageDiv);\n        this._messagesArea.lastChild.scrollIntoView();\n\n        this._textEntry.value = '';\n        this._adjustMessagesAreaHeight();\n        return {msgid};\n    }\n\n    messageRemove(n) {\n        // use css selector to remove the message\n        let sucess = false;\n        try {\n            this._messagesArea.removeChild(this._messagesArea.querySelector(`.quikchat-msgid-${String(n).padStart(10, '0')}`));\n            sucess = true;\n        }\n        catch (error) {\n            console.log(`{String(n)} : Message ID not found`);\n        }\n        return sucess;\n    }\n    /* returns the message html object from the DOM\n    */\n    messageGetDOMObject(n) {\n        let msg = null;\n        // now use css selector to get the message \n        try {\n            msg =  this._messagesArea.querySelector(`.quikchat-msgid-${String(n).padStart(10, '0')}`);\n        } \n        catch (error) \n        {\n            console.log(`{String(n)} : Message ID not found`);\n        }\n        return msg; \n    }\n    /* returns the message content only\n    */\n    messageGetContent(n) {\n        let content = \"\"\n        // now use css selector to get the message \n        try {\n            content =  this._messagesArea.querySelector(`.quikchat-msgid-${String(n).padStart(10, '0')}`).lastChild.textContent;\n        } \n        catch (error) \n        {\n            console.log(`{String(n)} : Message ID not found`);\n        }\n        return content; \n    }\n\n    /* append message to the message content\n    */\n    messageAppendContent(n, content) {\n        let sucess = false;\n        try {\n            this._messagesArea.querySelector(`.quikchat-msgid-${String(n).padStart(10, '0')}`).lastChild.innerHTML += content;\n            sucess = true;\n        } \n        catch (error) \n        {\n            console.log(`{String(n)} : Message ID not found`);\n        }   \n    }\n    /* replace message content\n    */\n    messageReplaceContent(n, content) {\n        let sucess = false;\n        try {\n            this._messagesArea.querySelector(`.quikchat-msgid-${String(n).padStart(10, '0')}`).lastChild.innerHTML = content;\n            sucess = true;\n        } \n        catch (error) \n        {\n            console.log(`{String(n)} : Message ID not found`);\n        }\n        return sucess;\n    }\n\n    changeTheme(newTheme) {\n        this._chatWidget.classList.remove(this._theme);\n        this._chatWidget.classList.add(newTheme);\n        this._theme = newTheme;\n    }\n\n    get theme() {\n        return this._theme;\n    }\n\n    static getVersion() {\n        return {\"version\" : \"1.0.2\"}\n    }\n}\n\nexport default quikchat;\n"],"names":["quikchat","parentElement","meta","arguments","length","undefined","theme","onSend","_classCallCheck","document","querySelector","_parentElement","_theme","_onSend","_createWidget","titleArea","titleAreaSetContents","title","align","show","titleAreaShow","titleAreaHide","_attachEventListeners","_createClass","key","value","widgetHTML","concat","innerHTML","_chatWidget","_titleArea","_messagesArea","_inputArea","_textEntry","_sendButton","msgid","$","_this","addEventListener","trim","window","_handleContainerResize","event","shiftKey","keyCode","preventDefault","titleAreaToggle","style","display","_adjustMessagesAreaHeight","textAlign","titleAreaGetContents","inputAreaToggle","classList","toggle","inputAreaShow","inputAreaHide","hiddenElements","_toConsumableArray","children","filter","child","contains","totalHiddenHeight","reduce","sum","offsetHeight","containerHeight","height","_adjustSendButtonWidth","sendButtonText","textContent","fontSize","parseFloat","getComputedStyle","minWidth","messageAddNew","message","user","messageDiv","createElement","msgidClass","String","padStart","add","userDiv","contentDiv","appendChild","lastChild","scrollIntoView","messageRemove","n","sucess","removeChild","error","console","log","messageGetDOMObject","msg","messageGetContent","content","messageAppendContent","messageReplaceContent","changeTheme","newTheme","remove","get","getVersion"],"mappings":"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"}