<html><head>
<!-- 
This file autogenerated by docbat.js (https://npmjs.com/docbat)  
Any manual edits may be lost.
-->
<link
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90' style='fill:blue'>&#x1F4AC;</text></svg>"
    rel="icon" />
<link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<style>
*{box-sizing:border-box;}
.bw-def-page-setup{height:100%;width:90%;margin:0 auto;padding-left:2%;padding-right:2%;left:0;top:1%;box-sizing:border-box;}
.bw-font-serif{font-family:Times New Roman, Times, serif;}
.bw-font-sans-serif{font-family:Arial, Helvetica, sans-serif;}

.bw-left{text-align:left;}
.bw-right{text-align:right;}
.bw-center{text-align:center;margin:0 auto;}
.bw-justify{text-align:justify;}
.bw-code{font-family:monospace;white-space:pre-wrap;}
.bw-pad1{padding-left:1%;padding-right:1%;}

.bw-table{border-collapse:collapse;border-spacing:0;border:1px solid #444;}
.bw-table th{background-color:#bbb;padding:4px;border:1px solid #444;}
.bw-table td{padding:4px;border:1px solid #444;}
.bw-table-stripe tr:nth-child(even){background-color:#f0f0f0;}
.bw-table tr td:first-child{font-weight:700;}
.bw-table-border-round{border-radius:2px;}
.bw-table-sort-upa::after{content:"\2191";}
.bw-table-sort-dna::after{content:"\2193";}
.bw-table-sort-xxa::after{content:"\00a0";}

.bw-tab-item-list{margin:0;padding-inline-start:0;}
.bw-tab-item{display:inline;padding-top:0.75em;padding-left:0.75em;padding-right:0.75em;border-top-right-radius:7px;border-top-left-radius:7px;}
.bw-tab-active{font-weight:700;}
.bw-tab:hover{cursor:pointer;font-weight:700;}
.bw-tab-content-list{margin:0;padding-top:0.0em;}
.bw-tab-content{display:none;border-radius:0;}
.bw-tab-content, .bw-tab-active{background-color:#ddd;padding:0.5em;}

.bw-accordian-container > div{padding:0.5em;}

.bw-container{margin:0 auto;}
.bw-row{width:100%;display:block;}
.bw-row [class^="bw-col"]{float:left;}
.bw-row::after{content:"";display:table;clear:both;}
.bw-box-1{padding-top:10px;padding-bottom:10px;border-radius:8px;}

.bw-sign{position:inherit;display:table;height:100%;width:100%;}
.bw-sign > div{display:table-cell;vertical-align:middle;}
.bw-sign > div > div{text-align:center;}

.bw-hide{display:none;}
.bw-show{display:block;}
.bw-h1{font-size:2.312rem;}
.bw-h2{font-size:1.965rem;}
.bw-h3{font-size:1.67rem;}
.bw-h4{font-size:1.419rem;}
.bw-h5{font-size:1.206rem;}
.bw-h6{font-size:1.025rem;}

.bw-col-1{width:8.333%;}
.bw-col-2{width:16.666%;}
.bw-col-3{width:25%;}
.bw-col-4{width:33.333%;}
.bw-col-5{width:41.666%;}
.bw-col-6{width:50%;}
.bw-col-7{width:58.333%;}
.bw-col-8{width:66.666%;}
.bw-col-9{width:75%;}
.bw-col-10{width:83.333%;}
.bw-col-11{width:91.666%;}
.bw-col-12{width:100%;}

.bw-color-color {color:#000}
.bw-color-background-color {background-color:#ddd}
.bw-color-active {active:#222}
.bw-thm-light
{
  color: #020202 !important;; 
  background-color: #e2e2e2 !important;; 
}
.bw-thm-dark
{
  color: #e2e2e2 !important;; 
  background-color: #020202 !important;; 
}
@media only screen and (min-width: 540px) {.bw-def-page-setup {width: 96%;}}
@media only screen and (min-width: 720px) {.bw-def-page-setup {width: 92%;}}
@media only screen and (min-width: 960px) {.bw-def-page-setup {width: 88%;}}
@media only screen and (min-width: 1100px){.bw-def-page-setup {width: 86%;}}
@media only screen and (min-width: 1600px){.bw-def-page-setup {width: 84%;}}

</style><style>
.dbat {padding-left: 10%; padding-right: 10%;}


</style><link rel="stylesheet" href="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/styles/default.min.css">
<script src="https://unpkg.com/@highlightjs/cdn-assets@11.7.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
</head>
<body class="bw-def-page-setup bw-font-sans-serif dbat" ><br><br><h1 id="expressjs--nodejs-quikchat-starter">ExpressJS / Nodejs Quikchat Starter</h1>
<p>This project is an example of integrating the <a href="https://github.com/deftio/quikchat">QuikChatJS</a> widget with a nodejs web backend. The application includes endpoints for handling both completions and streaming completions from an API like OpenAI&#39;s GPT, as well as a chat widget that can be embedded in other applications.</p>
<p>While expressjs is used for the example here, the same code and routes can be used with other nodejs based servers such as bun and deno.</p>
<h2 id="project-structure">Project Structure</h2>
<pre><code class="language-text">project-root/
|
|-- static/
|   |-- index.html
|   |-- widget.html
|   |-- quikchat.min.css
|   |-- quikchat.umd.min.js
|
|-- .env
|-- package.json
|-- package-lock.json
|-- server.js
|-- README.md
</code></pre>
<h3 id="files-and-directories">Files and Directories</h3>
<ul>
<li><strong><code>static/</code></strong>: Contains static assets like HTML, CSS, JavaScript, and images.<ul>
<li><strong><code>index.html</code></strong>: Main HTML file for the chat page.</li>
<li><strong><code>widget.html</code></strong>: HTML file for the embeddable chat widget.</li>
<li><strong><code>quikchat.min.css</code></strong>: quikchat css file</li>
<li><strong><code>quikchat.umd.min.js</code></strong>: quikchat js file</li>
</ul>
</li>
<li><strong><code>.env</code></strong>: Environment variables file. Store sensitive information like API keys here.</li>
<li><strong><code>package.json</code></strong>: Contains project metadata and dependencies.</li>
<li><strong><code>package-lock.json</code></strong>: Locks the versions of dependencies.</li>
<li><strong><code>server.js</code></strong>: Main server file. Defines the Express.js application.</li>
<li><strong><code>README.md</code></strong>: This file, providing an overview of the project.</li>
</ul>
<h2 id="prerequisites">Prerequisites</h2>
<ul>
<li><strong>Node.js</strong> (v14.x or later)</li>
<li><strong>npm</strong> (v6.x or later)</li>
<li><strong>An OpenAI API Key</strong> (stored in the <code>.env</code> file)</li>
</ul>
<h2 id="getting-started">Getting Started</h2>
<ol>
<li><p><strong>Clone the QuikChatJS Repository</strong></p>
<p>Clone the <code>quikchatjs</code> repository and navigate to this example project within the <code>examples</code> folder.</p>
<pre><code class="language-bash">git clone https://github.com/yourusername/quikchatjs.git
cd quikchatjs/examples/express-chat-widget
</code></pre>
</li>
<li><p><strong>Install Dependencies</strong></p>
<p>Use npm to install the required dependencies.</p>
<pre><code class="language-bash">npm install
</code></pre>
</li>
<li><p><strong>Set Up Environment Variables</strong></p>
<p>Create a <code>.env</code> file in the root of this directory and add your OpenAI API credentials:</p>
<pre><code class="language-plaintext">OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_API_KEY=your-api-key
</code></pre>
</li>
<li><p><strong>Run the Server</strong></p>
<p>Start the Express.js server:</p>
<pre><code class="language-bash">node server.js
</code></pre>
</li>
<li><p><strong>Access the Application</strong></p>
<p>Open your browser and go to <code>http://localhost:8000</code> to view the chat widget.</p>
</li>
</ol>
<h2 id="api-endpoints">API Endpoints</h2>
<ul>
<li><strong><code>GET /</code></strong>: Serves the main chat page.</li>
<li><strong><code>GET /widget</code></strong>: Serves the embeddable chat widget.</li>
<li><strong><code>POST /api/completion</code></strong>: Receives a message and returns a completion response from the OpenAI API.</li>
<li><strong><code>POST /api/completion-history</code></strong>: Receives a history of messages and returns a completion response considering the conversation context.</li>
<li><strong><code>POST /api/streaming-completion</code></strong>: Streams a completion response in real-time.</li>
<li><strong><code>POST /api/streaming-completion-history</code></strong>: Streams a completion response in real-time considering the conversation context.</li>
</ul>
</body></html>