<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"
        type="image/gif">
    <title>QuikChat Demo with local Ollama</title>
    <!-- Include Bootstrap CSS file -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <!-- Include Quikchat Chat CSS file -->
    <link rel="stylesheet" href="../dist/quikchat.css">

    <!-- Include QuikChat JavaScript file -->
    <script src="../dist/quikchat.umd.min.js"></script>

    <script src="./ollama_adapters.js"></script>
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
        }

        .chat-container {
            height: 70vh;
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="container">
        <br>
        <div class="row">
            <div class="col-11">
                <h2 class="">Ollama QuikChat Demo</h2>
                <div id="versionInfo" style="color: #666; font-size: 0.9em; margin-bottom: 1rem;">
                    <!-- Version will be displayed here -->
                </div>
                <p>This is a demo of two chat widgets connected to the local LLM via Ollama. One chat widget is connected
                    to the Ollama completion API, and the other is connected to the Ollama streaming API.</p>
                Neither chat has conversational memory, so each respose is independent of the previous chat message.
                <br><br>
                Note: This demo only works if running locally with Ollama running on port 11434. It will not work on the github demo pages.
            </div>
            <div class="col-5">
                <div class="chat-container" id="chat-container1"></div>
            </div>
            <div class="col-1" style="height:100%;"></div>
            <div class="col-5">
                <div class="chat-container" id="chat-container2"></div>
            </div>
        </div>
    </div>
    <script>
        // chat widget for the Ollama completion API 
        const completionsChat = new quikchat('#chat-container1',
            getOllamaCompletionCallback,
            {
                theme: 'quikchat-theme-light',
                titleArea: { title: "Completions Chat", "show": true, "align": "left" },
            });
        completionsChat.messageAddNew("How can I help? ", "bot", "left");

        // chat widget for the Ollama streaming API
        const streamingChat = new quikchat('#chat-container2',
            getOllamaStreamingCallback,
            {
                theme: 'quikchat-theme-light',
                titleArea: { title: "Streaming Chat", "show": true, "align": "left" },
            });
        streamingChat.messageAddNew("How can I help? ", "bot", "left");
        
        // Display QuikChat version
        const versionInfo = quikchat.version();
        document.getElementById('versionInfo').innerHTML = `QuikChat Version: ${versionInfo.version}`; 
    </script>
</body>

</html>